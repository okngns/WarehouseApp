define(["react","mendix/filters/builders","react-dom"],(function(e,t,n){"use strict";function r(){return e.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"eye",className:"svg-inline--fa fa-eye fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},e.createElement("path",{fill:"currentColor",d:"M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"}))}var a,o={exports:{}};
/*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  */a=o,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var a=arguments[r];if(a){var o=typeof a;if("string"===o||"number"===o)n.push(a);else if(Array.isArray(a)){if(a.length){var i=t.apply(null,a);i&&n.push(i)}}else if("object"===o){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){n.push(a.toString());continue}for(var l in a)e.call(a,l)&&a[l]&&n.push(l)}}}return n.join(" ")}a.exports?(t.default=t,a.exports=t):window.classNames=t}();var i=o.exports;const l="com.mendix.widgets.web.filterable.filterContext";function u(){const t=window[l];if(t)return{FilterContext:t};const n=e.createContext(void 0);return window[l]=n,{FilterContext:n}}function c(t,n){const[r,a]=e.useState(),o=e.useCallback((()=>{a((e=>{const n=null==t?void 0:t.getBoundingClientRect();return a=n,(r=e)&&a&&r.height===a.height&&r.width===a.width&&r.bottom===a.bottom&&r.top===a.top&&r.left===a.left&&r.right===a.right?e:n;var r,a}))}),[t]);var i;return i=n?o:void 0,e.useEffect((()=>i?function(e){let t;const n=()=>{t=window.requestAnimationFrame((()=>{e(),n()}))},r=()=>window.cancelAnimationFrame(t);return n(),r}(i):void 0),[i]),r}function s(t){const{setPage:n,hasMoreItems:r,isInfinite:a}=t,[o,l]=e.useState(0),u=e.useRef(null),c=e.useCallback((e=>{Math.floor(e.target.scrollHeight-e.target.scrollTop)<=Math.floor(e.target.clientHeight)+2&&r&&n&&n((e=>e+1))}),[r,n]),s=e.useCallback((()=>{a&&r&&o<=0&&u.current&&l(u.current.clientHeight-30)}),[a,r,o]);return e.useLayoutEffect((()=>{setTimeout((()=>s()),100)}),[s]),e.createElement("div",{ref:u,className:i(t.className,a?"infinite-loading":""),onScroll:a?c:void 0,role:t.role,style:a&&o>0?Object.assign(Object.assign({},t.style),{maxHeight:o}):t.style},t.children)}function d(t){let{direction:n}=t;const r="pagination-icon ".concat(n);switch(n){case"forward":return e.createElement("span",{"aria-hidden":!0},e.createElement("svg",{className:r,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M17.81 6.63C17.48 6.37 17 6.61 17 7.02V24.98C17 25.4 17.48 25.63 17.81 25.37L28.5 16.39C28.76 16.19 28.76 15.8 28.5 15.6L17.81 6.63Z",fill:"currentColor"}),e.createElement("path",{d:"M4.81 6.63C4.48 6.37 4 6.61 4 7.02V24.98C4 25.4 4.48 25.63 4.81 25.37L15.5 16.39C15.76 16.19 15.76 15.8 15.5 15.6L4.81 6.63Z",fill:"currentColor"})));case"step-forward":return e.createElement("span",{"aria-hidden":!0},e.createElement("svg",{className:r,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M8.81 6.63C8.48 6.37 8 6.61 8 7.02V24.98C8 25.4 8.48 25.63 8.81 25.37L20.5 16.39C20.76 16.19 20.76 15.8 20.5 15.6L8.81 6.63Z",fill:"currentColor"}),e.createElement("path",{d:"M24 6H22V26H24V6Z",fill:"currentColor"})));case"backward":return e.createElement("span",{"aria-hidden":!0},e.createElement("svg",{className:r,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M14.19 6.63L3.51 15.61C3.25 15.81 3.25 16.2 3.51 16.4L14.2 25.38C14.53 25.64 15.01 25.4 15.01 24.99V7.02C15.01 6.6 14.53 6.37 14.2 6.63H14.19Z",fill:"currentColor"}),e.createElement("path",{d:"M27.19 6.63L16.5 15.61C16.24 15.81 16.24 16.2 16.5 16.4L27.19 25.38C27.52 25.64 28 25.4 28 24.99V7.02C28 6.6 27.52 6.37 27.19 6.63Z",fill:"currentColor"})));case"step-backward":return e.createElement("span",{"aria-hidden":!0},e.createElement("svg",{className:r,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M23.19 6.63L11.51 15.61C11.25 15.81 11.25 16.2 11.51 16.4L23.2 25.38C23.53 25.64 24.01 25.4 24.01 24.99V7.02C24.01 6.6 23.53 6.37 23.2 6.63H23.19Z",fill:"currentColor"}),e.createElement("path",{d:"M10 6H8V26H10V6Z",fill:"currentColor"})));default:return e.createElement("div",null)}}function f(t){var n,r,a,o,i,l,u;const c=void 0!==t.numberOfItems?Math.ceil(t.numberOfItems/t.pageSize):void 0,s=void 0!==c?c-1:0,f=void 0!==c,m=t.page*t.pageSize+1,h=t.canNextPage||!t.numberOfItems?(t.page+1)*t.pageSize:t.numberOfItems,g=e=>{t.setPaginationIndex&&t.setPaginationIndex(e)};if(0===t.numberOfItems)return null;const p="".concat(m," to ").concat(h," ").concat(f?"of ".concat(null!==(n=t.numberOfItems)&&void 0!==n?n:(null!=c?c:1)*t.pageSize):"");return e.createElement("div",{"aria-label":null!==(r=t.labelPagination)&&void 0!==r?r:"Pagination",className:"pagination-bar",role:"pagination"},e.createElement("button",Object.assign({className:"btn pagination-button",disabled:0===t.page},v((()=>{t.gotoPage(0),g(0)})),{"aria-label":null!==(a=t.labelFirstPage)&&void 0!==a?a:"Go to first page"}),e.createElement(d,{direction:"step-backward"})),e.createElement("button",Object.assign({className:"btn pagination-button",disabled:!t.canPreviousPage},v((()=>{t.previousPage(),g(t.page-1)})),{"aria-label":null!==(o=t.labelPreviousPage)&&void 0!==o?o:"Go to previous page"}),e.createElement(d,{direction:"backward"})),e.createElement("span",{className:"sr-only sr-only-focusable"},null!==(i=t.labelPagingStatus)&&void 0!==i?i:"Currently showing"," ",p),e.createElement("div",{"aria-hidden":!0,className:"paging-status"},p),e.createElement("button",Object.assign({"aria-label":null!==(l=t.labelNextPage)&&void 0!==l?l:"Go to next page",className:"btn pagination-button",disabled:!t.canNextPage},v((()=>{t.nextPage(),g(t.page+1)}))),e.createElement(d,{direction:"forward"})),f&&e.createElement("button",Object.assign({"aria-label":null!==(u=t.labelLastPage)&&void 0!==u?u:"Go to last page",className:"btn pagination-button",disabled:t.page===s},v((()=>{t.gotoPage(s),g(s)}))),e.createElement(d,{direction:"step-forward"})))}function v(e){return{onClick:e,onKeyDown:t=>{" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),t.stopPropagation(),e())}}}function m(t){let{id:n,value:r,onChange:a}=t;const o=e.useRef(null);return e.useEffect((()=>{o.current&&("all"===r||"none"===r?o.current.indeterminate=!1:"some"===r&&(o.current.indeterminate=!0))}),[r]),e.createElement("input",{id:n,type:"checkbox",className:"three-state-checkbox",ref:o,checked:"none"!==r,onChange:a})}const h=t=>{const n=t.current,[r,a]=e.useState(!0);return e.useLayoutEffect((()=>{const e=null==n?void 0:n.getBoundingClientRect(),t=!e||e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth);a(t)}),[n]),r};function g(t){var a;const{setHiddenColumns:o}=t,[i,l]=e.useState(!1),u=e.useRef(null),s=e.useRef(null),d=c(s.current,i),f=1===t.columns.length-t.hiddenColumns.length;var v,m;v=[s,u],m=()=>l(!1),e.useEffect((()=>{const e=e=>{if(Array.isArray(v)){if(v.some((t=>!t.current||t.current.contains(e.target))))return}else if(!v.current||v.current.contains(e.target))return;m()};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[v,m]);const g=null!==(a=t.label)&&void 0!==a?a:"Column selector",w=h(u),y=e.useCallback(((e,t)=>{e&&f||o((n=>e?[...n,t]:n.filter((e=>e!==t))))}),[o,f]),b=e.useMemo((()=>t.columns.findIndex((e=>e.canHide))),[t.columns]),k=e.useMemo((()=>t.columns.map((e=>e.canHide)).lastIndexOf(!0)),[t.columns]),C=n.createPortal(e.createElement("ul",{ref:u,id:"".concat(t.id,"-column-selectors"),className:"column-selectors ".concat(w?"":"overflow"),"data-focusindex":0,role:"menu",style:{position:"fixed",top:null==d?void 0:d.bottom,right:void 0!==(null==d?void 0:d.right)?document.body.clientWidth-d.right:void 0}},t.columns.map(((n,r)=>{const a=!t.hiddenColumns.includes(n.id),o=a&&f;return n.canHide?e.createElement("li",{key:r,onClick:e=>{e.preventDefault(),e.stopPropagation(),y(a,n.id)},onKeyDown:e=>{var t;"Enter"===e.key||" "===e.key?(e.preventDefault(),e.stopPropagation(),y(a,n.id)):("Tab"===e.key&&(r===k||e.shiftKey&&r===b)||"Escape"===e.key)&&(e.preventDefault(),l(!1),null===(t=s.current)||void 0===t||t.focus())},role:"menuitem",tabIndex:0},e.createElement("input",{checked:a,disabled:o,id:"".concat(t.id,"_checkbox_toggle_").concat(r),style:{pointerEvents:"none"},type:"checkbox",tabIndex:-1,onChange:p}),e.createElement("label",{htmlFor:"".concat(t.id,"_checkbox_toggle_").concat(r),style:{pointerEvents:"none"}},n.header)):null}))),document.body),T=e.useCallback((()=>{l((e=>!e)),setTimeout((()=>{var e,t;null===(t=null===(e=u.current)||void 0===e?void 0:e.querySelector("li"))||void 0===t||t.focus()}),10)}),[]);return e.createElement("div",{"aria-label":g,className:"th column-selector",role:"columnheader",title:g},e.createElement("div",{className:"column-selector-content"},e.createElement("button",{"aria-label":g,ref:s,className:"btn btn-default column-selector-button",onClick:T,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),T())},"aria-haspopup":!0,"aria-expanded":i,"aria-controls":"".concat(t.id,"-column-selectors")},e.createElement(r,null))),i&&C)}function p(){}function w(){return e.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"long-arrow-alt-down",className:"svg-inline--fa fa-long-arrow-alt-down fa-w-8",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"},e.createElement("path",{fill:"currentColor",d:"M168 345.941V44c0-6.627-5.373-12-12-12h-56c-6.627 0-12 5.373-12 12v301.941H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.569 9.373 33.941 0l86.059-86.059c15.119-15.119 4.411-40.971-16.971-40.971H168z"}))}function y(){return e.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"long-arrow-alt-up",className:"svg-inline--fa fa-long-arrow-alt-up fa-w-8",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"},e.createElement("path",{fill:"currentColor",d:"M88 166.059V468c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12V166.059h46.059c21.382 0 32.09-25.851 16.971-40.971l-86.059-86.059c-9.373-9.373-24.569-9.373-33.941 0l-86.059 86.059c-15.119 15.119-4.411 40.971 16.971 40.971H88z"}))}function b(){return e.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"arrows-alt-v",className:"svg-inline--fa fa-arrows-alt-v fa-w-8",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"},e.createElement("path",{fill:"currentColor",d:"M214.059 377.941H168V134.059h46.059c21.382 0 32.09-25.851 16.971-40.971L144.971 7.029c-9.373-9.373-24.568-9.373-33.941 0L24.971 93.088c-15.119 15.119-4.411 40.971 16.971 40.971H88v243.882H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.568 9.373 33.941 0l86.059-86.059c15.12-15.119 4.412-40.971-16.97-40.971z"}))}function k(t){var n;const r=t.sortable&&t.column.canSort,a=t.draggable&&null!==(n=t.column.canDrag)&&void 0!==n&&n,o=function(t,n,r,a,o){const i=e.useCallback((e=>{o(!0);const{id:t}=e.target;e.dataTransfer.setData("colDestination",t)}),[o]),l=e.useCallback((e=>{e.preventDefault()}),[]),u=e.useCallback((e=>{const{id:t}=e.target;t!==e.dataTransfer.getData("colDestination")&&a(t)}),[a]),c=e.useCallback((()=>{o(!1),a("")}),[a,o]),s=e.useCallback((e=>{c();const{id:t}=e.target,a=e.dataTransfer.getData("colDestination"),o=n.findIndex((e=>e.id===t)),i=n.findIndex((e=>e.id===a));if(o!==i){const e=[...n.map((e=>e.id))];e.splice(i,1),e.splice(o,0,a),r(e)}}),[c,r,n]);return t?{draggable:!0,onDragStart:i,onDragOver:l,onDrop:s,onDragEnter:u,onDragEnd:c}:{}}(a,t.visibleColumns,t.setColumnOrder,t.setDragOver,t.setIsDragging),[l]=t.sortBy,u=l&&l.id===t.column.id,c=u&&l.desc,s=r?u?c?e.createElement(w,null):e.createElement(y,null):e.createElement(b,null):null,d=t.column.header.trim(),f=()=>{u?u&&!c?t.setSortBy([{id:t.column.id,desc:!0}]):t.setSortBy([]):t.setSortBy([{id:t.column.id,desc:!1}])},v={onClick:f,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),f())},role:"button",tabIndex:0};return e.createElement("div",{"aria-label":d,"aria-sort":r?u?c?"descending":"ascending":"none":void 0,className:i("th",{"hidden-column-preview":t.preview&&t.hidable&&t.column.hidden}),role:"columnheader",style:t.sortable&&t.column.canSort?void 0:{cursor:"unset"},title:d},e.createElement("div",{className:i("column-container",a&&t.column.id===t.dragOver?"dragging":""),id:t.column.id,...o},e.createElement("div",{className:i("column-header",r?"clickable":"",t.className),style:{pointerEvents:t.isDragging?"none":void 0},...r?v:void 0},e.createElement("span",null,d.length>0?d:"Â "),s),t.filterable&&t.column.customFilter?t.column.customFilter:null),t.resizable&&t.column.canResize&&t.resizer)}const C=e=>{e&&e.canExecute&&!e.isExecuting&&e.execute()},T=e=>e&&"available"===e.status&&e.value;var E;function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function S(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function D(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function N(e){D(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===x(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}!function(e){e.Number="number",e.DateTime="datetime"}(E||(E={}));var P={};function M(){return P}function U(e){D(1,arguments);var t=N(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function I(e){D(1,arguments);var t=function(e){D(1,arguments);var t=N(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=U(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var i=U(o);return t.getTime()>=a.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),U(n)}var A=6048e5;function O(e,t){var n,r,a,o,i,l,u,c;D(1,arguments);var s=M(),d=S(null!==(n=null!==(r=null!==(a=null!==(o=null==t?void 0:t.weekStartsOn)&&void 0!==o?o:null==t||null===(i=t.locale)||void 0===i||null===(l=i.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==a?a:s.weekStartsOn)&&void 0!==r?r:null===(u=s.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=N(e),v=f.getUTCDay(),m=(v<d?7:0)+v-d;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function H(e,t){var n,r,a,o,i,l,u,c;D(1,arguments);var s=N(e),d=s.getUTCFullYear(),f=M(),v=S(null!==(n=null!==(r=null!==(a=null!==(o=null==t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(i=t.locale)||void 0===i||null===(l=i.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==a?a:f.firstWeekContainsDate)&&void 0!==r?r:null===(u=f.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(d+1,0,v),m.setUTCHours(0,0,0,0);var h=O(m,t),g=new Date(0);g.setUTCFullYear(d,0,v),g.setUTCHours(0,0,0,0);var p=O(g,t);return s.getTime()>=h.getTime()?d+1:s.getTime()>=p.getTime()?d:d-1}var F=6048e5;function L(e,t){D(1,arguments);var n=N(e),r=O(n,t).getTime()-function(e,t){var n,r,a,o,i,l,u,c;D(1,arguments);var s=M(),d=S(null!==(n=null!==(r=null!==(a=null!==(o=null==t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(i=t.locale)||void 0===i||null===(l=i.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==a?a:s.firstWeekContainsDate)&&void 0!==r?r:null===(u=s.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),f=H(e,t),v=new Date(0);return v.setUTCFullYear(f,0,d),v.setUTCHours(0,0,0,0),O(v,t)}(n,t).getTime();return Math.round(r/F)+1}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var a=Y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}(this,n)}}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function Q(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function W(e,t,n){return(t=j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(e){q(n,e);var t=z(n);function n(e,r,a,o,i){var l;return V(this,n),(l=t.call(this)).value=e,l.validateValue=r,l.setValue=a,l.priority=o,i&&(l.subPriority=i),l}return Q(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(function(){function e(){V(this,e),W(this,"priority",void 0),W(this,"subPriority",0)}return Q(e,[{key:"validate",value:function(e,t){return!0}}]),e}()),X=function(){function e(){V(this,e),W(this,"incompatibleTokens",void 0),W(this,"priority",void 0),W(this,"subPriority",void 0)}return Q(e,[{key:"run",value:function(e,t,n,r){var a=this.parse(e,t,n,r);return a?{setter:new G(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),Z=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",140),W(R(e),"incompatibleTokens",["R","u","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(X),K=/^(1[0-2]|0?\d)/,J=/^(3[0-1]|[0-2]?\d)/,$=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,ee=/^(5[0-3]|[0-4]?\d)/,te=/^(2[0-3]|[0-1]?\d)/,ne=/^(2[0-4]|[0-1]?\d)/,re=/^(1[0-1]|0?\d)/,ae=/^(1[0-2]|0?\d)/,oe=/^[0-5]?\d/,ie=/^[0-5]?\d/,le=/^\d/,ue=/^\d{1,2}/,ce=/^\d{1,3}/,se=/^\d{1,4}/,de=/^-?\d+/,fe=/^-?\d/,ve=/^-?\d{1,2}/,me=/^-?\d{1,3}/,he=/^-?\d{1,4}/,ge=/^([+-])(\d{2})(\d{2})?|Z/,pe=/^([+-])(\d{2})(\d{2})|Z/,we=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,ye=/^([+-])(\d{2}):(\d{2})|Z/,be=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function ke(e,t){return e?{value:t(e.value),rest:e.rest}:e}function Ce(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Te(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function Ee(e){return Ce(de,e)}function xe(e,t){switch(e){case 1:return Ce(le,t);case 2:return Ce(ue,t);case 3:return Ce(ce,t);case 4:return Ce(se,t);default:return Ce(new RegExp("^\\d{1,"+e+"}"),t)}}function Se(e,t){switch(e){case 1:return Ce(fe,t);case 2:return Ce(ve,t);case 3:return Ce(me,t);case 4:return Ce(he,t);default:return Ce(new RegExp("^-?\\d{1,"+e+"}"),t)}}function De(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Ne(e,t){var n,r=t>0,a=r?t:1-t;if(a<=50)n=e||100;else{var o=a+50;n=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return r?n:1-n}function Pe(e){return e%400==0||e%4==0&&e%100!=0}var Me=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",130),W(R(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return ke(xe(4,e),r);case"yo":return ke(n.ordinalNumber(e,{unit:"year"}),r);default:return ke(xe(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var a=Ne(n.year,r);return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(X),Ue=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",130),W(R(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return ke(xe(4,e),r);case"Yo":return ke(n.ordinalNumber(e,{unit:"year"}),r);default:return ke(xe(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var a=H(e,r);if(n.isTwoDigitYear){var o=Ne(n.year,a);return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),O(e,r)}var i="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(i,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),O(e,r)}}]),n}(X),Ie=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",130),W(R(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t){return Se("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),U(r)}}]),n}(X),Ae=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",130),W(R(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t){return Se("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(X),Oe=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",120),W(R(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return xe(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(X),He=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",120),W(R(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return xe(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(X),Fe=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),W(R(e),"priority",110),e}return Q(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return ke(Ce(K,e),r);case"MM":return ke(xe(2,e),r);case"Mo":return ke(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(X),Le=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",110),W(R(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return ke(Ce(K,e),r);case"LL":return ke(xe(2,e),r);case"Lo":return ke(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(X);var Re=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",100),W(R(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return Ce(ee,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return xe(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return O(function(e,t,n){D(2,arguments);var r=N(e),a=S(t),o=L(r,n)-a;return r.setUTCDate(r.getUTCDate()-7*o),r}(e,n,r),r)}}]),n}(X);function Be(e,t){D(2,arguments);var n=N(e),r=S(t),a=function(e){D(1,arguments);var t=N(e),n=U(t).getTime()-I(t).getTime();return Math.round(n/A)+1}(n)-r;return n.setUTCDate(n.getUTCDate()-7*a),n}var qe=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",100),W(R(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return Ce(ee,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return xe(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return U(Be(e,n))}}]),n}(X),Ye=[31,28,31,30,31,30,31,31,30,31,30,31],ze=[31,29,31,30,31,30,31,31,30,31,30,31],Ve=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",90),W(R(e),"subPriority",1),W(R(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return Ce(J,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return xe(t.length,e)}}},{key:"validate",value:function(e,t){var n=Pe(e.getUTCFullYear()),r=e.getUTCMonth();return n?t>=1&&t<=ze[r]:t>=1&&t<=Ye[r]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),n}(X),je=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",90),W(R(e),"subpriority",1),W(R(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return Ce($,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return xe(t.length,e)}}},{key:"validate",value:function(e,t){return Pe(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),n}(X);function _e(e,t,n){var r,a,o,i,l,u,c,s;D(2,arguments);var d=M(),f=S(null!==(r=null!==(a=null!==(o=null!==(i=null==n?void 0:n.weekStartsOn)&&void 0!==i?i:null==n||null===(l=n.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==o?o:d.weekStartsOn)&&void 0!==a?a:null===(c=d.locale)||void 0===c||null===(s=c.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==r?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=N(e),m=S(t),h=((m%7+7)%7<f?7:0)+m-v.getUTCDay();return v.setUTCDate(v.getUTCDate()+h),v}var Qe=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",90),W(R(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=_e(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(X),We=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",90),W(R(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n,r){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return ke(xe(t.length,e),a);case"eo":return ke(n.ordinalNumber(e,{unit:"day"}),a);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=_e(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(X),Ge=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",90),W(R(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n,r){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return ke(xe(t.length,e),a);case"co":return ke(n.ordinalNumber(e,{unit:"day"}),a);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=_e(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(X);var Xe=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",90),W(R(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return xe(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return ke(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return ke(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return ke(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return ke(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return e=function(e,t){D(2,arguments);var n=S(t);n%7==0&&(n-=7);var r=N(e),a=((n%7+7)%7<1?7:0)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+a),r}(e,n),e.setUTCHours(0,0,0,0),e}}]),n}(X),Ze=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",80),W(R(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(De(n),0,0,0),e}}]),n}(X),Ke=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",80),W(R(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(De(n),0,0,0),e}}]),n}(X),Je=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",80),W(R(e),"incompatibleTokens",["a","b","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(De(n),0,0,0),e}}]),n}(X),$e=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",70),W(R(e),"incompatibleTokens",["H","K","k","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return Ce(ae,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return xe(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getUTCHours()>=12;return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),n}(X),et=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",70),W(R(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return Ce(te,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return xe(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),n}(X),tt=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",70),W(R(e),"incompatibleTokens",["h","H","k","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return Ce(re,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return xe(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),n}(X),nt=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",70),W(R(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return Ce(ne,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return xe(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var r=n<=24?n%24:n;return e.setUTCHours(r,0,0,0),e}}]),n}(X),rt=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",60),W(R(e),"incompatibleTokens",["t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return Ce(oe,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return xe(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),n}(X),at=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",50),W(R(e),"incompatibleTokens",["t","T"]),e}return Q(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return Ce(ie,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return xe(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),n}(X),ot=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",30),W(R(e),"incompatibleTokens",["t","T"]),e}return Q(n,[{key:"parse",value:function(e,t){return ke(xe(t.length,e),(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),n}(X),it=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",10),W(R(e),"incompatibleTokens",["t","T","x"]),e}return Q(n,[{key:"parse",value:function(e,t){switch(t){case"X":return Te(ge,e);case"XX":return Te(pe,e);case"XXXX":return Te(we,e);case"XXXXX":return Te(be,e);default:return Te(ye,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(X),lt=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",10),W(R(e),"incompatibleTokens",["t","T","X"]),e}return Q(n,[{key:"parse",value:function(e,t){switch(t){case"x":return Te(ge,e);case"xx":return Te(pe,e);case"xxxx":return Te(we,e);case"xxxxx":return Te(be,e);default:return Te(ye,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(X),ut=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",40),W(R(e),"incompatibleTokens","*"),e}return Q(n,[{key:"parse",value:function(e){return Ee(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(X),ct=function(e){q(n,e);var t=z(n);function n(){var e;V(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return W(R(e=t.call.apply(t,[this].concat(a))),"priority",20),W(R(e),"incompatibleTokens","*"),e}return Q(n,[{key:"parse",value:function(e){return Ee(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(X);new Z,new Me,new Ue,new Ie,new Ae,new Oe,new He,new Fe,new Le,new Re,new qe,new Ve,new je,new Qe,new We,new Ge,new Xe,new Ze,new Ke,new Je,new $e,new et,new tt,new nt,new rt,new at,new ot,new it,new lt,new ut,new ct;const st=new Map([[100,"FF"],[99,"FC"],[98,"FA"],[97,"F7"],[96,"F5"],[95,"F2"],[94,"F0"],[93,"ED"],[92,"EB"],[91,"E8"],[90,"E6"],[89,"E3"],[88,"E0"],[87,"DE"],[86,"DB"],[85,"D9"],[84,"D6"],[83,"D4"],[82,"D1"],[81,"CF"],[80,"CC"],[79,"C9"],[78,"C7"],[77,"C4"],[76,"C2"],[75,"BF"],[74,"BD"],[73,"BA"],[72,"B8"],[71,"B5"],[70,"B3"],[69,"B0"],[68,"AD"],[67,"AB"],[66,"A8"],[65,"A6"],[64,"A3"],[63,"A1"],[62,"9E"],[61,"9C"],[60,"99"],[59,"96"],[58,"94"],[57,"91"],[56,"8F"],[55,"8C"],[54,"8A"],[53,"87"],[52,"85"],[51,"82"],[50,"80"],[49,"7D"],[48,"7A"],[47,"78"],[46,"75"],[45,"73"],[44,"70"],[43,"6E"],[42,"6B"],[41,"69"],[40,"66"],[39,"63"],[38,"61"],[37,"5E"],[36,"5C"],[35,"59"],[34,"57"],[33,"54"],[32,"52"],[31,"4F"],[30,"4D"],[29,"4A"],[28,"47"],[27,"45"],[26,"42"],[25,"40"],[24,"3D"],[23,"3B"],[22,"38"],[21,"36"],[20,"33"],[19,"30"],[18,"2E"],[17,"2B"],[16,"29"],[15,"26"],[14,"24"],[13,"21"],[12,"1F"],[11,"1C"],[10,"1A"],[9,"17"],[8,"14"],[7,"12"],[6,"0F"],[5,"0D"],[4,"0A"],[3,"08"],[2,"05"],[1,"03"],[0,"00"]]);function dt(e,t){const n=st.get(t);if(!n)throw Error("Structure preview error: Can't convert alpha value (".concat(t,") to hex"));return"#".concat(n).concat(e.slice(1))}const ft={text:{primary:"#DEDEDE",secondary:"#A4A4A4",data:"#579BF9"},background:{topbarData:dt("#3A65E5",20),topbarStandard:dt("#646464",20),buttonInfo:"#579BF9",container:"#313131"}};function vt(t){const n=e.useRef(t);return e.useEffect((()=>{n.current=t})),e.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current&&n.current.apply(void 0,t)}),[])}Object.freeze({dark:ft,light:{text:{primary:"#2F3646",secondary:"#6B707B",data:"#146FF4"},background:{topbarData:"#DCEEFE",topbarStandard:"#F7F7F7",buttonInfo:"#146FF4",container:"#FFFFFF"}}});class mt{constructor(e){this.selectionValue=e,this.type="Single"}updateProps(e){this.selectionValue=e}isSelected(e){var t;return(null===(t=this.selectionValue.selection)||void 0===t?void 0:t.id)===e.id}add(e){this.selectionValue.setSelection(e)}remove(e){this.selectionValue.setSelection(void 0)}}class ht{constructor(e,t){this.selectionValue=e,this.selectableItems=t,this.type="Multi"}isSelected(e){return this.selectionValue.selection.some((t=>t.id===e.id))}updateProps(e,t){this.selectionValue=e,this.selectableItems=t}get selectionStatus(){return 0===this.selectionValue.selection.length?"none":this.selectionValue.selection.length===this.selectableItems.length?"all":"some"}add(e){this.isSelected(e)||this.selectionValue.setSelection(this.selectionValue.selection.concat(e))}remove(e){this.isSelected(e)&&this.selectionValue.setSelection(this.selectionValue.selection.filter((t=>t.id!==e.id)))}selectAll(){this.selectionValue.setSelection(this.selectableItems)}selectNone(){this.selectionValue.setSelection([])}}const gt="com.mendix.widgets.web.selectable.selectionContext";function pt(e,t){return JSON.stringify(e)===JSON.stringify(t)?e:t}function wt(t){let{minWidth:n=50,setColumnWidth:r,onResizeEnds:a}=t;const[o,i]=e.useState(!1),[l,u]=e.useState(0),[c,s]=e.useState(0),d=e.useRef(null),f=e.useCallback((e=>{const t=e.touches?e.touches[0].screenX:e.screenX;if(u(t),i(!0),d.current){const e=d.current.parentElement;s(e.clientWidth)}}),[]),v=e.useCallback((()=>{o&&(i(!1),s(0),null==a||a())}),[a,o]),m=vt(r),h=e.useCallback((e=>{if(!o)return;const t=e.touches?e.touches[0].screenX:e.screenX;if(c){let e=c-(l-t);e<n&&(e=n),m(e)}}),[o,c,l,n,m]);return e.useEffect((()=>(document.addEventListener("mousemove",h),document.addEventListener("mouseup",v),document.addEventListener("touchmove",h),document.addEventListener("touchend",v),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",h),document.removeEventListener("touchend",v)})),[h,v]),e.createElement("div",{"aria-hidden":!0,ref:d,className:"column-resizer",onMouseDown:f,onTouchStart:f},e.createElement("div",{className:"column-resizer-bar"}))}function yt(t){var n;const{cellRenderer:r,className:a,columns:o,columnsDraggable:l,columnsFilterable:u,columnsHidable:c,columnsResizable:d,columnsSortable:v,data:h,emptyPlaceholderRenderer:p,filterRenderer:w,gridHeaderWidgets:y,gridHeaderTitle:b,hasMoreItems:C,headerWrapperRenderer:T,id:E,numberOfItems:x,page:S,pageSize:D,paging:N,pagingPosition:P,preview:M,rowClass:U,setPage:I,setSortParameters:A,settings:O,styles:H,selectionStatus:F,selectionMethod:L,onSelect:R,isSelected:B}=t,q=!N,[Y,z]=e.useState(!1),[V,j]=e.useState(""),[_,Q]=e.useState([]),[W,G]=e.useState(null!==(n=o.map(((e,t)=>c&&"hidden"===e.hidable&&!M?t.toString():void 0)).filter(Boolean))&&void 0!==n?n:[]),[X,Z]=e.useState([]),[K,J]=e.useState(Object.fromEntries(o.map(((e,t)=>[t.toString(),void 0])))),$="checkbox"===L,ee="rowClick"===L,{updateSettings:te}=function(t,n,r,a,o,i,l,u,c,s){const d=e.useRef(),f=e.useRef(!0),v=e.useMemo((()=>n.map(((e,t)=>({header:e.header,id:t.toString(),hidable:e.hidable})))),[n]),m=vt(a),h=vt(i),g=vt(u),p=vt(s),w=d.current;e.useEffect((()=>{if(t&&"loading"!==t.status&&t.value&&t.value!==w){const e=JSON.parse(t.value).map((e=>{var t;return{...e,columnId:(null===(t=v.find((t=>t.header===e.column)))||void 0===t?void 0:t.id)||""}})),n={columnOrder:e.sort(((e,t)=>e.order-t.order)).map((e=>e.columnId)),hiddenColumns:e.filter((e=>e.hidden)).map((e=>e.columnId)),sortBy:e.filter((e=>e.sort)).map((e=>({id:e.columnId,desc:"desc"===e.sortMethod}))),widths:Object.fromEntries(e.map((e=>[e.columnId,e.width])))};d.current=t.value,f.current=!1,m((e=>pt(e,n.columnOrder))),h((e=>pt(e,n.hiddenColumns))),g((e=>pt(e,n.sortBy))),p((e=>pt(e,n.widths))),setTimeout((()=>{f.current=!0}),100)}}),[t,v,w,m,h,g,p]);const y=e.useCallback((()=>{var e;if(t&&"available"===t.status&&f.current){const n=JSON.stringify(null!==(e=function(e,t){let{columnOrder:n,hiddenColumns:r,sortBy:a,widths:o}=e;return t.map(((e,t)=>{var i;const l=n.findIndex((t=>t===e.id));return{column:e.header,sort:!!a.find((t=>t.id===e.id)),sortMethod:(null===(i=a.find((t=>t.id===e.id)))||void 0===i?void 0:i.desc)?"desc":"asc",hidden:!!r.find((t=>t===e.id)),order:l>-1?l:t,width:o[e.id]}}))}({columnOrder:r,hiddenColumns:o,sortBy:l,widths:c},v))&&void 0!==e?e:[]);d.current!==n&&t.value!==n&&(t.setValue(n),d.current=n)}}),[t,r,o,l,c,v]);return{updateSettings:y}}(O,o,_,Q,W,G,X,Z,K,J);e.useEffect((()=>te()),[_,W,X,te]),e.useEffect((()=>{var e;const[t]=X;t&&"id"in t&&"desc"in t?null==A||A({columnIndex:Number(t.id),desc:null!==(e=t.desc)&&void 0!==e&&e}):null==A||A(void 0)}),[X,A]);const ne=e.useCallback((t=>e.createElement("div",{className:"filter",style:{pointerEvents:Y?"none":void 0}},t)),[Y]),re=e.useMemo((()=>o.map(((e,t)=>{var n;return{id:t.toString(),accessor:"item",alignment:e.alignment,header:e.header,hidden:"hidden"===e.hidable,canHide:"no"!==e.hidable,canDrag:e.draggable,canResize:e.resizable,canSort:e.sortable,customFilter:u?w(ne,t):null,width:e.width,weight:null!==(n=e.size)&&void 0!==n?n:1}}))),[o,w,u,ne]),ae=e.useMemo((()=>re.filter((e=>!W.includes(e.id))).sort(((e,t)=>function(e,t,n){let r=e.findIndex((e=>e===t.id)),a=e.findIndex((e=>e===n.id));r<0&&(r=Number(t.id));a<0&&(a=Number(n.id));return r<a?-1:r>a?1:0}(_,e,t)))),[re,W,_]),oe=e.useCallback(((t,n,a)=>ae.find((e=>e.id===t.id))||M?r(((r,o,l)=>{const u=ee?()=>R(n):l;return e.createElement("div",{key:"row_".concat(n.id,"_cell_").concat(t.id),className:i("td",{"td-borders":0===a},o,{clickable:!!u,"hidden-column-preview":M&&c&&t.hidden}),onClick:u,onKeyDown:u?e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),u())}:void 0,role:u?"button":"cell",tabIndex:u?0:void 0},r)}),n,Number(t.id)):null),[r,c,M,ae,R,ee]),ie=e.useMemo((()=>h.map((e=>({item:e})))),[h]),le=N?e.createElement(f,{canNextPage:C,canPreviousPage:0!==S,gotoPage:e=>I&&I((()=>e)),nextPage:()=>I&&I((e=>e+1)),numberOfItems:x,page:S,pageSize:D,previousPage:()=>I&&I((e=>e-1))}):null,ue=e.useMemo((()=>function(e,t,n){const r=e.map((e=>{const n=t[e.id];if(n)return"".concat(n,"px");switch(e.width){case"autoFit":return"fit-content(100%)";case"manual":return"".concat(e.weight,"fr");default:return"1fr"}})),a=[];n.selectItemColumn&&a.push("fit-content(48px)");a.push(...r),n.visibilitySelectorColumn&&a.push("fit-content(50px)");return{gridTemplateColumns:a.join(" ")}}(ae,K,{selectItemColumn:$,visibilitySelectorColumn:c})),[K,ae,c,$]);return e.createElement("div",{className:i(a,"widget-datagrid",{"widget-datagrid-selection-method-checkbox":$,"widget-datagrid-selection-method-click":ee}),style:H},e.createElement("div",{className:"table",role:"table"},e.createElement("div",{className:"table-header",role:"rowgroup"},("top"===P||"both"===P)&&le),y&&e.createElement("div",{className:"header-filters",role:"rowgroup","aria-label":b},y),e.createElement(s,{className:"table-content",hasMoreItems:C,isInfinite:q,role:"rowgroup",setPage:I,style:ue},e.createElement("div",{key:"headers_row",className:"tr",role:"row"},$&&e.createElement("div",{key:"headers_column_select_all",className:"th widget-datagrid-col-select",role:"columnheader"},F&&e.createElement(m,{value:F,onChange:t.onSelectAll})),ae.map((t=>T(Number(t.id),e.createElement(k,{key:"headers_column_".concat(t.id),className:"align-column-".concat(t.alignment),column:t,draggable:l,dragOver:V,filterable:u,hidable:c,isDragging:Y,preview:M,resizable:d,resizer:e.createElement(wt,{onResizeEnds:te,setColumnWidth:e=>J((n=>(n[t.id]=e,{...n})))}),setColumnOrder:e=>Q(e),setDragOver:j,setIsDragging:z,setSortBy:Z,sortable:v,sortBy:X,visibleColumns:ae})))),c&&e.createElement(g,{key:"headers_column_selector",columns:re,hiddenColumns:W,id:E,setHiddenColumns:G})),ie.map(((t,n)=>e.createElement("div",{key:"row_".concat(t.item.id),className:i("tr",null==U?void 0:U(t.item),{"tr-selected":B(t.item)}),role:"row"},$&&e.createElement("div",{key:"cell_checkbox",className:i("td widget-datagrid-col-select",{"td-borders":0===n})},e.createElement("input",{checked:B(t.item),onChange:()=>R(t.item),type:"checkbox",tabIndex:-1})),ae.map((e=>oe(e,t.item,n))),c&&e.createElement("div",{key:"cell_column_dropdown","aria-hidden":!0,className:i("td column-selector",{"td-borders":0===n})})))),(0===h.length||M)&&p&&p((t=>{const n=o.length+(c?1:0)+($?1:0);return e.createElement("div",{key:"row-footer",className:i("td",{"td-borders":!M}),style:{gridColumn:"span ".concat(n)}},e.createElement("div",{className:"empty-placeholder"},t))}))),e.createElement("div",{className:"table-footer",role:"rowgroup"},("bottom"===P||"both"===P)&&le)))}function bt(e,t){if(!e||!t)return[];const n=kt(t);return n?n.filter((e=>!!e.arg1&&!!e.arg2)).filter((t=>"attribute"===t.arg1.type&&t.arg1.attributeId===e.id)).map((e=>({type:e.name,value:e.arg2.value}))):[]}function kt(e){return!e||"function"!==e.type||"and"!==e.name&&"or"!==e.name?e?[e]:void 0:e.args.flatMap(kt).filter((e=>void 0!==e))}function Ct(e){if(null==e)throw new Error(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Did not expect an argument to be undefined");return e}function Tt(e){if(e.filterAssociation)return function(e){const t=e=>"Can't map ColumnsType to AssociationProperties: ".concat(e," is undefined"),n=Ct(e.filterAssociation,t("filterAssociation")),r=Ct(e.filterAssociationOptions,t("filterAssociationOptions")),a=Ct(e.filterAssociationOptionLabel,t("filterAssociationOptionLabel"));return{association:n,optionsSource:r,getOptionLabel:e=>{var t;return null!==(t=a.get(e).value)&&void 0!==t?t:"Error: unable to get caption"}}}(e)}function Et(e){var t;const n="string"==typeof e.attribute||!!(null===(t=e.attribute)||void 0===t?void 0:t.sortable);return e.sortable&&n}const xt={onSelect:()=>{},onSelectAll:()=>{},isSelected:()=>!1};return function(n){var r,a,o;const l=e.useRef("DataGrid".concat(function(){const e="com.mendix.widgets.web.UUID";return window[e]||(window[e]=1),window[e]++}())),[c,s]=e.useState(void 0),d="virtualScrolling"===n.pagination,f=d?n.datasource.limit/n.pageSize:n.datasource.offset/n.pageSize,v=e.useRef(void 0),[m,h]=e.useState(!1),g={string:e.useState(),number:e.useState(),date:e.useState(),enum:e.useState()},{FilterContext:p}=u(),w=(void 0===window[gt]&&(window[gt]=e.createContext(void 0)),window[gt]),y=function(t){let{onClick:n,columns:r}=t;return e.useCallback(((t,a,o)=>{var l,u,c,s,d,f,v,m,h,g;const p=r[o],w=p.tooltip&&(null===(l=p.tooltip.get(a))||void 0===l?void 0:l.value);let y;return y="attribute"===p.showContentAs?e.createElement("span",{title:w,className:"td-text"},null!==(s=null===(c=null===(u=p.attribute)||void 0===u?void 0:u.get(a))||void 0===c?void 0:c.displayValue)&&void 0!==s?s:""):"dynamicText"===p.showContentAs?e.createElement("span",{title:w,className:"td-text"},null!==(v=null===(f=null===(d=p.dynamicText)||void 0===d?void 0:d.get(a))||void 0===f?void 0:f.value)&&void 0!==v?v:""):e.createElement("div",{className:"td-custom-content"},null===(m=p.content)||void 0===m?void 0:m.get(a)),t(y,i("align-column-".concat(p.alignment),null===(g=null===(h=p.columnClass)||void 0===h?void 0:h.get(a))||void 0===g?void 0:g.value,{"wrap-text":p.wrapText}),n?()=>C(null==n?void 0:n.get(a)):void 0)}),[r,n])}({columns:n.columns,onClick:n.onClick});e.useEffect((()=>{n.datasource.requestTotalCount(!0),n.datasource.limit===Number.POSITIVE_INFINITY&&n.datasource.setLimit(n.pageSize)}),[n.datasource,n.pageSize]),e.useEffect((()=>{!n.datasource.filter||m||v.current||(v.current=n.datasource.filter)}),[n.datasource,n.configurationAttribute,m]),e.useEffect((()=>{n.refreshInterval>0&&setTimeout((()=>{n.datasource.reload()}),1e3*n.refreshInterval)}),[n.datasource,n.refreshInterval]);const b=e.useCallback((e=>{const t=e(f);d?n.datasource.setLimit(t*n.pageSize):n.datasource.setOffset(t*n.pageSize)}),[n.datasource,n.pageSize,d,f]),k=n.columns.map((()=>e.useState())),E=k.map((e=>{let[t]=e;var n;return null===(n=null==t?void 0:t.getFilterCondition)||void 0===n?void 0:n.call(t)})).filter((e=>void 0!==e)).concat(Object.keys(g).map((e=>{var t;return null===(t=g[e][0])||void 0===t?void 0:t.getFilterCondition()})).filter((e=>void 0!==e)));E.length>0?n.datasource.setFilter(E.length>1?t.and(...E):E[0]):m?n.datasource.setFilter(void 0):n.datasource.setFilter(v.current),c?n.datasource.setSortOrder([[n.columns[c.columnIndex].attribute.id,c.desc?"desc":"asc"]]):n.datasource.setSortOrder(void 0);const x=e.useMemo((()=>function(e){return e.map((e=>{var t;return{...e,header:e.header&&T(e.header)&&null!==(t=e.header.value)&&void 0!==t?t:"",sortable:Et(e)}}))}(n.columns)),[n.columns]),S=e.useMemo((()=>n.filterList.reduce(((e,t)=>{let{filter:n}=t;return{...e,[n.id]:n}}),{})),[n.filterList]),D=e.useMemo((()=>n.filterList.reduce(((e,t)=>{let{filter:n}=t;return{...e,[n.id]:bt(n,v.current)}}),{})),[n.filterList]),N=function(t,n,r){var a,o;const i=e.useRef(!1);e.useEffect((()=>{i.current&&(null==r||r.execute())}),[null==t?void 0:t.selection]),e.useEffect((()=>{"loading"!==(null==n?void 0:n.status)&&(i.current=!0)}),[null==n?void 0:n.status]);const l=e.useRef(void 0);return void 0!==t&&("Single"===t.type?l.current?l.current.updateProps(t):l.current=new mt(t):l.current?l.current.updateProps(t,null!==(o=n.items)&&void 0!==o?o:[]):l.current=new ht(t,null!==(a=n.items)&&void 0!==a?a:[])),l.current}(n.itemSelection,n.datasource,n.onSelectionChange),P=function(t){return e.useMemo((()=>t?{onSelect:e=>{t.isSelected(e)?t.remove(e):t.add(e)},onSelectAll:"Single"===t.type?()=>{console.warn("Datagrid: calling onSelectAll in single selection mode have no effect")}:()=>{"all"===t.selectionStatus?t.selectNone():t.selectAll()},isSelected:e=>t.isSelected(e)}:xt),[t])}(N),{selectionStatus:M,selectionMethod:U}=function(e,t){const{itemSelection:n,itemSelectionMethod:r,showSelectAllToggle:a}=e,o="string"==typeof n,i=void 0!==n&&"None"!==n,l=(o?"Multi"===n:"Multi"===(null==n?void 0:n.type))&&"checkbox"===r&&a,u=o?"none":"Multi"===(null==t?void 0:t.type)?t.selectionStatus:void 0;return{selectionStatus:l?u:void 0,selectionMethod:i?r:"none"}}(n,N),I=function(t){const n=e.useCallback((()=>{"Multi"===(null==t?void 0:t.type)&&("all"===t.selectionStatus?t.selectNone():t.selectAll())}),[t]),r="Multi"===(null==t?void 0:t.type)?t.selectionStatus:void 0;return e.useMemo((()=>{if(void 0!==r)return{status:r,toggle:n}}),[r,n])}(N);return e.createElement(yt,{selectionStatus:M,selectionMethod:U,cellRenderer:y,className:n.class,columns:x,columnsDraggable:n.columnsDraggable,columnsFilterable:n.columnsFilterable,columnsHidable:n.columnsHidable,columnsResizable:n.columnsResizable,columnsSortable:n.columnsSortable,data:null!==(r=n.datasource.items)&&void 0!==r?r:[],emptyPlaceholderRenderer:e.useCallback((t=>"custom"===n.showEmptyPlaceholder?t(n.emptyPlaceholder):e.createElement("div",null)),[n.emptyPlaceholder,n.showEmptyPlaceholder]),filterRenderer:e.useCallback(((t,r)=>{const a=n.columns[r],{attribute:o,filter:i}=a,l=Tt(a),[,u]=k[r],c=bt(o,v.current);return t(o||l?e.createElement(p.Provider,{value:{filterDispatcher:e=>(h(!0),u(e),e),singleAttribute:o,singleInitialFilter:c,associationProperties:l}},i):i)}),[p,k,n.columns]),hasMoreItems:null!==(a=n.datasource.hasMoreItems)&&void 0!==a&&a,headerWrapperRenderer:e.useCallback(((e,t)=>t),[]),gridHeaderWidgets:e.useMemo((()=>e.createElement(p.Provider,{value:{filterDispatcher:e=>{if(e.filterType){const[,t]=g[e.filterType];t(e),h(!0)}return e},multipleAttributes:S,multipleInitialFilters:D}},e.createElement(w.Provider,{value:I},n.filtersPlaceholder))),[p,S,D,n.filtersPlaceholder,g]),gridHeaderTitle:null===(o=n.filterSectionTitle)||void 0===o?void 0:o.value,id:l.current,numberOfItems:n.datasource.totalCount,page:f,pageSize:n.pageSize,paging:"buttons"===n.pagination,pagingPosition:n.pagingPosition,rowClass:e.useCallback((e=>{var t,r,a;return null!==(a=null===(r=null===(t=n.rowClass)||void 0===t?void 0:t.get(e))||void 0===r?void 0:r.value)&&void 0!==a?a:""}),[n.rowClass]),setPage:b,setSortParameters:s,settings:n.configurationAttribute,styles:n.style,valueForSort:e.useCallback(((e,t)=>{const r=n.columns[t];return r.attribute?r.attribute.get(e).value:""}),[n.columns]),onSelect:P.onSelect,onSelectAll:P.onSelectAll,isSelected:P.isSelected})}}));
